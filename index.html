<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Arimo&family=Noto+Sans:wght@400;700&family=Roboto:ital,wght@0,400;0,700;1,300&display=swap" rel="stylesheet">
    <title>Мосты СПБ</title>
    
</head>
<body>
    <header>
        <nav>
            <div class="wrapper">
                <a href="#" class="logo">Мосты СПБ</a>
                
                <div class="nav-links">
                    <a href="#" class="nav-link">История</a>
                    <a href="#" class="nav-link">История мостов</a>
                    <a href="#" class="nav-link">Полезные ссылки</a>
                    <a href="#" class="nav-link">Записаться на экскурсию</a>
                </div>
            <div class="phone-numbers">
                <a href="tel:+7 (800) 789-57-15">8 (800) 789-57-15</a>
            </div>
            </div>
        </nav>
    </header>
    <main class="main">
        <div class="section-1">
            <div class="wrapper">
                <h1 class="section-1__title">Мосты Санкт-Петербурга.<br>
                                            Каждый раз удивляют по новому </h1>
                <div class="section-1__subtitle">
                    <p>Узнай больше о любимых мостах Санкт-Петербурга на этом  сайте.
                        Погрузись в атмосферу ночного Петербурга   </p>
                </div>
                
            </div>
        </div>
        <div class="section-2">
            <div class="wrapper">
                <h2 class="section-1__title section-2_title" >История мостов</h2>
                <div class="section-2_flex">
                    <p class="section-2__text">
                        Как уже неоднократно упомянуто, элементы политического процесса подвергнуты целой серии независимых исследований. Принимая во внимание показатели успешности, постоянный количественный рост и сфера нашей активности напрямую зависит от прогресса профессионального сообщества. 
                    </p>
                    <img src="img/most1.png" alt="most1">
                </div>
                
            </div>
        </div>
        <div class="section-3">
            <div class="wrapper">
                <div class="section-3__up-row">
                    <h2 class="section-1__title section-3_title" >Популярные мосты</h2>
                </div>
                <div class="mosts">
                    <img src="./img/most2.png" alt="">
                    <img src="./img/most3.png" alt="">
                    <img src="./img/most5.png" alt="">
                </div>
            </div>
        </div>
        <div class="section-4">
            <div class="wrapper">
                <div class="section-3__up-row">
                    <h2 class="section-1__title section-3_title" >Полезные ссылки</h2>
                </div>
                    <div class="section-4__content">
                        <div class="section-4__content-block1">
                            <h3 class="section-4__content-block1-title">Ссылки для любителей мостов </h3>
                            <p class= 'section-4__text'>Когда есть спрос – всегда появятся и предложения. У многих людей, желающих выглядеть и одеваться модно и стильно, иногда просто нет времени на качественный шопинг и тем более на модный показ. </p>
                            <div class="blok2">
                                <button class="a-button">Посмотреть ссылки</button>
                                
                            </div>
                        </div>
                        <div class="section-4__content-block2">
                            <img src="img/most6.jpg" alt="">
                        </div>
                    </div>
                
            </div>
        </div>
        <div class="section-5">
            <div class="wrapper">
                <div class="section-5__content">
                    <div class="section-5__block1">
                        <h3 class="section-5__title">Заказать экскурсию</h3>
                            <div id="root"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>

        <div class="section-6">
            <div class="wrapper">
                <h3 class="section-5__title">Вызов данных из Api</h3>
                <div class="section-6_api-info" id="sec6">
                    <p class="section-4__text">Нажмите на кнопку чтобы загрузить текст</p>
                </div>
                <button class="a-button a-button1" id="button-api">Загрузить данные</button>
            </div>
        </div>
    </main>
    <footer>
        <div class="wrapper">
            <div class="footer-up">
                <a href="#" class="logo">Мосты СПБ</a>
                
            </div>
            <div class="footer-text">
                <div class="blok1-f">
                    <p class="text-footer-f paddin">
                        ООО «Мосты СПБ».<br>
                        Россия, г. Санкт-Петербурга, ул. Большая Морская, 1а, 119019
                    </p>
                    <p class="text-footer-f">
                        8 (800) 789-56-15 
                    </p>
                    <p class="text-footer-f">
                         email@email.com
                    </p>
                </div>
                <div class="block2-f">
                    <ul>
                        <li class="title-footer">Компания</li>
                        <li  class="text-footer"><a href="#">Блог и новости</a></li>
                        <li class="text-footer"><a href="#">О компании</a></li>
                        <li class="text-footer"><a href="#">Контакты</a></li>
                    </ul>
                </div>
                <div class="block3-f">
                    <ul>
                        <li class="title-footer">Экскурсии</li>
                        <li  class="text-footer"><a href="#">Груповые экскурсии </a></li>
                        <li class="text-footer"><a href="#">Проекты</a></li>
                        <li class="text-footer download"><a href="#"><div class="dinload">Скачать каталог Экскурсий</div></a></li>
                    </ul>
                </div>
                <div class="block4-f">
                    <ul>
                        <li class="title-footer">Общее</li>
                        <li  class="text-footer"><a href="#">Политика конфиденциальности</a></li>
                        <li class="text-footer"><a href="#">Пользовательское соглашение</a></li>
                        <li class="text-footer"><a href="#">Сроки и условия</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <hr class="hr">
        <div class="wrapper">
           <div class="footer-last">
                <span class="footer-end">© 2023, «Мосты СПБ». Все права защищены.</span>
                <span class="footer-end">Разработка — <a href="https://github.com/ogyreck">ogyreck</a></span>
           </div>
        </div>
    </footer>
</body>
<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
<script src="http://unpkg.com/babel-standalone@6/babel.min.js"></script>		 
<script type="text/babel" >
   'use strict';

//Информация для создания элементов
let block1Info = [{id: 1, text: 'ФИО'},{id:2, text: 'Город'}]
let block2Info = [{id:1,text:'Телефон'}, {id:2, text:"E-mail"}]
let block3Info1 = [{id:1,text:'Да'},{id:2,text:'Нет'}]
let block3Info2 = [{id:1,text:'Дворцовый мост'},{id:2,text:'Литейный мост'},{id:3,text:'Банковский мост'}]

class Block1 extends React.Component{
    constructor(props){
        super(props)
        this.state = { value1 : "", 
                        value2: ""};
        this.handleChange = this.handleChange.bind(this);
    }

    //Сохраниние текущего состояния формы в стейт компоненты, и отправка его в родительский компонент
    handleChange(event){
        let id = event.target.placeholder == "ФИО"? 1:2;
        this.setState({ ["value"+id]: event.target.value });
        this.props.sendData(this.state);	
    }
    

    render(){
        return(
            <div className="form-block1">
                {this.props.info.map((e)=>{
                    return(<input type="text" placeholder={e.text} required className="input i-1" key={e.id} value={this.state[`value`+e.id]} onChange={this.handleChange}></input>)
                })} 
            </div>
                   
        );
    }
}


class Block2 extends React.Component{
    constructor(props){
        super(props)

        this.state = { value3 : "", 
                        value4: "",
                        valueArea:""};
        this.handleChange = this.handleChange.bind(this);
        this.textAreaChange = this.textAreaChange.bind(this);
    }

    //Сохраниние текущего состояния формы в стейт компоненты, и отправка его в родительский компонент 
    handleChange(event){
        let id = event.target.placeholder == "Телефон"? 3:4;
        this.setState({ ["value"+id]: event.target.value });
        this.props.sendData(this.state);	
    }
    //тоже саммое что и функция выше, но для textArea
    textAreaChange(event){
        this.setState({ valueArea: event.target.value });
        this.props.sendData(this.state);
    }

    render(){
        return(
            <div className="form-block2">
                <div className="form-block2-1">
                {this.props.info.map((e)=>{
                    
                    return (<input type="text" placeholder={e.text} required className="input" key={e.id}  value={this.state[`value`+e.id]} onChange={this.handleChange}/>)
                })} 
                </div>
                <textarea name="messege" id="messege" cols="30" rows="10" placeholder="Сообщение"className="input i-5" value={this.state.valueArea} onChange={this.textAreaChange}></textarea>
            </div>
                   
        );
    }
}

class Block3 extends React.Component{
    constructor(props){
        super(props)

        this.state = {likeValue: "",
            checkBox :[],
            option: ""

        
    };
        this.handleChange = this.handleChange.bind(this);
        this.chekBoxCheker = this.chekBoxCheker.bind(this);
        this.optionCheck = this.optionCheck.bind(this);
    }

    handleChange(event){
        this.setState({likeValue:event.target.value})
        this.props.sendData(this.state);
    }

    chekBoxCheker(event){
        const value = event.target.value;
        const check = event.target.checked;
        
        this.setState((prevState)=>{
            if(check){
                return{
                    checkBox: [...prevState.checkBox, value]
                };
            }
            else{
                return{
                    checkBox: prevState.checkBox.filter( val => val!==value)
                }
            }
        });

        this.props.sendData(this.state);

        

    }
    optionCheck(event){
       this.setState((prevState) =>  {return{ option:event.target.value}})
       this.setState((prevState) =>  {this.props.sendData(prevState);})
       
    }

    




    render(){
        return(
            <div className="from-block3">
                                <p className="section-5__tex">Любите ли вы мосты?</p>
                                <div onChange={this.handleChange}>
                                    <input type="radio" value="Да" name="like"/> Да<br/>
                                    <input type="radio" value="Нет" name="like"/> Нет
                                </div>
                                <p className="section-5__text">Выберите лучшие мосты:</p>
                                <div onChange={this.chekBoxCheker}>
                                     <input type="checkbox" name="rad"  value ="Дворцовый мост"/>Дворцовый мост<br/>
                                     <input type="checkbox" name="rad"  value ="Литейный мост"/>Литейный мост<br/>
                                     <input type="checkbox" name="rad"  value ="Банковский мост"/>Банковский мост<br/>
                                </div>
                                
                                <p className="section-5__text">Выберите ваш любимый мост</p>
                                <select id="selectID" className="select-css" onChange={this.optionCheck}>
                                    <option value = "Не выбрано">Не выбрано</option>
                                    <option  value ="Дворцовый мост">Дворцовый мост</option>
                                    <option value ="Литейный мост">Литейный мост</option>
                                    <option value ="Банковский мост">Банковский мост</option>
                                </select>  
                                 
                                
                            </div>
                   
        );
    }
}



class InputRad extends React.Component{
    constructor(props){
        super(props)

        this.state = {value:""};
        this.handleChange = this.handleChange.bind(this);
    }

    handleChange(event){
        
        this.setState({ value: event.target });
        this.props.sendData(this.state);
        
    }
    render(){
        return(
            <div>
            <input type="radio" name="rad" key={props.id} onChange={this.handleChange}/>
            <span>{props.text}</span>
        </div>
        );
    }

}

//Компоненты для контролов



const InputCheck = (props) =>{
    return(
        <div>
            <input type="checkbox" name="rad" key={props.id} />
            <span>{props.text}</span>
        </div>
        );
}



//основоной компонент
class FormToPage extends React.Component{
    constructor(props){
        super(props);
        
        this.state = {value1:"", value2:"",value3:"",value4:"",valueArea:"",likeValue: "",
        checkBox :[],
        option: "", def:""};

        this.handleSubmit = this.handleSubmit.bind(this);
        this.getData = this.getData.bind(this);
    }

    //Вывод данных из формы в алерт
    handleSubmit(event){
        this.setState((state)=>{
            console.log(state)
        })
        
        alert(
        `
        ФИО: ${this.state.value1},
        Город: ${this.state.value2},
        Телефон: ${this.state.value3},
        E-Mail: ${this.state.value4},
        Сообщение:${this.state.valueArea},
        Любите ли вы мосты: ${this.state.likeValue},
        Лучшие мосты: ${this.state.checkBox.join(", ")},
        Ваш любимый мост: ${this.state.option}
       

        `
        
        );

        event.preventDefault();
    }

    //Получения значения из дочерних элементов 
    getData(val){
       
       //распаковка объекта, присовение его стейту
        this.setState((state)=>{
            return{...state,...val}
        });
        
    }

    render(){
        return(
            <form onSubmit={this.handleSubmit}>
                <Block1 info={block1Info} sendData={this.getData}/>
                <Block2 info={block2Info} sendData={this.getData}/>
                <Block3 info1={block3Info1} info2={block3Info2} sendData={this.getData}/>
                <div className="end-form">
                    <p>Нажимая кнопку «Отправить», даю согласие на обработку персональных данных, указанных <a className="polit">Политики конфиденциальности</a></p>
                    <input type="submit" value="Отправить" name='submit'/>
                </div>
            </form>
        );
    }
}


//Рендр основоного компонента
ReactDOM.render(<FormToPage/>, document.getElementById('root'));


</script>
<script src="main.js"></script>
</html>